{"ast":null,"code":"import _slicedToArray from\"/Users/caraphillips/dev/LifeinJapanResources/LifeInJapanResourceCenter/lifeinjapan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useParams}from'react-router';import{useAuth0}from\"@auth0/auth0-react\";import AddQuestion from'../components/AddQuestion';import EditQuestion from'../components/EditQuestion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Forum=function Forum(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];useParams();var _useAuth=useAuth0(),isAuthenticated=_useAuth.isAuthenticated;var getQuestions=function getQuestions(){axios.get('https://japanresources.herokuapp.com/api/forum').then(function(response){return setQuestions(response.data);},function(err){return console.error(err);}).catch(function(error){return console.error(error);});};var handleCreateQuestion=function handleCreateQuestion(addQuestion){axios.post('https://japanresources.herokuapp.com/api/forum',addQuestion).then(function(response){console.log(response);getQuestions();});};var handleUpdateQuestion=function handleUpdateQuestion(editQuestion){console.log(editQuestion);axios.put('https://japanresources.herokuapp.com/api/forum/'+editQuestion.id,editQuestion).then(function(response){getQuestions();});};var handleDeleteQuestion=function handleDeleteQuestion(event){axios.delete('https://japanresources.herokuapp.com/api/forum/'+event.target.value).then(function(response){getQuestions();});};useEffect(function(){getQuestions();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"forum\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"questions\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"forumTitle\",children:\"Questions? Comments? Please post them here:\"}),questions.map(function(question){return/*#__PURE__*/_jsxs(\"div\",{className:\"question\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Name: \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"posting\",children:[\" \",question.name]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Question/Comment:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"posting\",children:question.question}),/*#__PURE__*/_jsx(EditQuestion,{handleUpdateQuestion:handleUpdateQuestion,id:question.id}),/*#__PURE__*/_jsx(\"br\",{}),isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteQuestion,value:question.id,children:\" Delete Your Question\"}),/*#__PURE__*/_jsx(\"br\",{}),\"----------------------------\"]},question.id);})]}),/*#__PURE__*/_jsx(AddQuestion,{handleCreate:handleCreateQuestion})]}),/*#__PURE__*/_jsx(\"br\",{})]});};export default Forum;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useAuth0","AddQuestion","EditQuestion","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Forum","_useState","_useState2","_slicedToArray","questions","setQuestions","_useAuth","isAuthenticated","getQuestions","get","then","response","data","err","console","error","catch","handleCreateQuestion","addQuestion","post","log","handleUpdateQuestion","editQuestion","put","id","handleDeleteQuestion","event","delete","target","value","children","className","map","question","name","onClick","handleCreate"],"sources":["/Users/caraphillips/dev/LifeinJapanResources/LifeInJapanResourceCenter/lifeinjapan/src/pages/forum.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams } from 'react-router'\nimport { useAuth0 } from \"@auth0/auth0-react\"\nimport AddQuestion from '../components/AddQuestion'\nimport EditQuestion from '../components/EditQuestion'\n\n\nconst Forum = () => {\n  const [questions, setQuestions] = useState([]); useParams()\n  const {isAuthenticated } = useAuth0()\n\n\n  const getQuestions = () => {\n    axios\n      .get('https://japanresources.herokuapp.com/api/forum')\n      .then(\n        (response) => setQuestions(response.data),\n        (err) => console.error(err)\n      )\n      .catch((error) => console.error(error))\n    }\n\n\n  const handleCreateQuestion = (addQuestion) => {\n    axios\n      .post('https://japanresources.herokuapp.com/api/forum', addQuestion)\n      .then((response) => {\n        console.log(response)\n        getQuestions()\n      })\n    }\n\n\n  const handleUpdateQuestion = (editQuestion) => {\n    console.log(editQuestion)\n    axios\n      .put('https://japanresources.herokuapp.com/api/forum/' + editQuestion.id, editQuestion)\n      .then((response) => {\n        getQuestions()\n      })\n    }\n\n\n  const handleDeleteQuestion = (event) => {\n        axios\n          .delete('https://japanresources.herokuapp.com/api/forum/' + event.target.value)\n            .then((response) => {\n              getQuestions()\n                })\n            }\n\n  useEffect(() => {\n   getQuestions()\n  }, [])\n\n\n  return (\n    <>\n     <aside className = \"forum\">\n      <div className=\"questions\">\n        <h3 className =\"forumTitle\">Questions? Comments? Please post them here:</h3>\n        {questions.map((question) => {\n          return (\n            <div className=\"question\" key={question.id}>\n            <h4>Name: </h4>\n            <p className= \"posting\"> {question.name}</p>\n            <h4>Question/Comment:</h4>\n            <p className= \"posting\">{question.question}</p>\n            <EditQuestion handleUpdateQuestion={handleUpdateQuestion} id={question.id} />\n            <br />\n             {isAuthenticated && (\n            <button onClick={handleDeleteQuestion} value={question.id}> Delete Your Question</button>\n            )}\n            <br />\n            ----------------------------\n            </div>\n             )\n         })}\n      </div>\n      <AddQuestion handleCreate={handleCreateQuestion} />\n      </aside>\n        <br />\n    </>\n  )\n}\n\nexport default Forum\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}